FACTORY = factory.o mask.o materials.o 

all: lab2.exe

lab2.exe: $(FACTORY) main.o
	g++ -o $@ -std=c++11 $^

%.o: %.cpp
	g++ -std=c++11 -c $< -o $@

clean:
	rm -f *.o *.exe

## Utility 'makedepend' finds the .h dependencies automatically,
# depend:;        makedepend $(wildcard *.cpp)
## The rules below are generated by 'makedepend'.

materials.o: materials.h
factory.o: factory.h materials.h mask.h
main.o: factory.h materials.h mask.h
mask.o: mask.h materials.h

# Remark 1: the 'makedepend' may not be installed by default, search for it if you are interested
# Remark 2: Eclipse can generate the makefile automatically if a 'C++ project' is created instead of a 'Makefile project',
#           but Eclipse assumes all files under the project are used to create the executable.
#           The assumption is true for this lab but may not be true in general.
# Remark 3: if we do not add the rules to link the header files with their object file, 
#           the object file will not rebuild upon changes in the header files.
#           This is fine in this lab since you are supposed to modify the mask.cpp and factory.cpp ONLY,
#           but it can bring you a nightmare of debugging for a bigger project.